
<mat-card>
    <mat-card-title>Admin users</mat-card-title>

    <div *ngIf="user$ | async as users; else noData">
        <mat-table [dataSource]="users">

            <ng-container matColumnDef="firstName">
                <th mat-header-cell *matHeaderCellDef> First Name </th>
                <td mat-cell class="firstname-cell" *matCellDef="let user"> {{user.firstName}} </td>
            </ng-container>

            <ng-container matColumnDef="lastName">
                <th mat-header-cell *matHeaderCellDef> Last Name </th>
                <td mat-cell *matCellDef="let user"> {{user.lastName}} </td>
            </ng-container>

            <ng-container matColumnDef="dateOfBirth">
                <th mat-header-cell *matHeaderCellDef> Date of birth </th>
                <td mat-cell *matCellDef="let user"> {{ user.dateOfBirth | date :'medium'}} </td>
            </ng-container>

            <ng-container matColumnDef="gender">
                <th mat-header-cell *matHeaderCellDef> Gender </th>
                <td mat-cell *matCellDef="let user">   {{ user.gender }} </td>
            </ng-container>

            <ng-container matColumnDef="isMarried">
                <th mat-header-cell *matHeaderCellDef> Is married</th>
                <td mat-cell *matCellDef="let user"> {{ user.isMarried }} </td>
            </ng-container>

            <ng-container matColumnDef="role">
                <th mat-header-cell *matHeaderCellDef> Role</th>
                <td mat-cell *matCellDef="let user"> {{ user.role }} </td>
            </ng-container>

            <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef>Action</th>
                <td mat-cell *matCellDef="let user"> <button mat-icon-button (click)="deleteUser(user._id)">
                    <mat-icon mat-icon-button color="warn">clear</mat-icon>
                  </button></td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

        </mat-table>
    </div>
    <ng-template #noData>No Data Available</ng-template>
    <mat-card-actions>
        <button mat-button [routerLink]="'/userform'">CREATE NEW USER</button>
    </mat-card-actions>
</mat-card>